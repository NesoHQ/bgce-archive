# Class 38 - Thread

## ЁЯз╡ Thread ржХрзА?

- **Thread** рж╣рж▓ ржХрзЛржи process ржПрж░ ржПржХржЯрж┐ **execution unit**.
- ржПржХржЯрж┐ **process creation** ржПрж░ рж╕рж╛ржерзЗ рж╕рж╛ржерзЗ by **default** ржПржХржЯрж┐ thread create рж╣рзЯ ржпрж╛ржХрзЗ **main thread** ржУ ржмрж▓рж╛ рж╣рзЯред
- Thread ржорзВрж▓ржд **RAM ржП load ржХрж░рж╛ instruction/program code ржЧрзБрж▓рзЛ execute** ржХрж░рзЗ ржерж╛ржХрзЗред

---

## ЁЯза Thread ржХрзЛржерж╛рзЯ ржерж╛ржХрзЗ?

```plaintext
                User software/program ржП double click ржХрж░рзЗ
                                  тмЗя╕П
            RAM ржП рж▓рзЛржб рж╣ржУрзЯрж╛ program ржПрж░ binary executable code load рж╣рзЯ
                                  тмЗя╕П
                      OS ржПржХржЯрж┐ process create ржХрж░рзЗ
                                  тмЗя╕П
                      default thread create рж╣рзЯ

```

- Thread ржХрзЗ **process ржПрж░ ржПржХржЯрж┐ ржЕржВрж╢** ржмрж▓рж╛ ржпрж╛рзЯред
- **Process creation** ржПрж░ рж╢рзБрж░рзБрждрзЗ thread ржПржмржВ process ржПржХржЗ ржерж╛ржХрзЗред
- Process is **container**, thread is **executor**

---

## ЁЯФН Thread ржХрзЗ Virtual Process ржХрзЗржи ржмрж▓рж╛ рж╣рзЯ?

- **New Process create** тЮбя╕П **Default Thread Create** рж╣рзЯ
- Thread ржПрж░ **Code Segment, Data Segment, Stack, Heap** ржЗрждрзНржпрж╛ржжрж┐ ржерж╛ржХрзЗ тЮбя╕П Process ржПрж░ ржЕржирзБрж░рзВржк
- Process ржПрж░ ржорждрзЛржЗ behave ржХрж░рзЗ ржерж╛ржХрзЗред
- **Logical Process** ржмрж▓рж╛ рж╣рзЯред

---

## ЁЯз╢ЁЯФД Multi-threading

ржПржХржЯрж┐ process ржПрж░ ржоржзрзНржпрзЗ ржЕржирзЗржХржЧрзБрж▓рзЛ ржХрж╛ржЬ ржмрж╛ functionality execute ржХрж░рж╛рж░ ржЬржирзНржп, OS ржУржЗ process ржПрж░ ржнрзЗрждрж░рзЗ ржПржХрж╛ржзрж┐ржХ execution unit рждрзИрж░рж┐ ржХрж░рзЗ, ржпрзЗржЧрзБрж▓рзЛ ржПржХрж╕рж╛ржерзЗ ржХрж╛ржЬ ржХрж░рзЗ, рждржЦржи рждрж╛ржХрзЗ **`Multi-threading`** ржмрж▓рзЗред

### тЬи ржПржХржЗ Process ржПрж░ ржЕржирзНрждрж░рзНржнрзБржХрзНржд Multiple Threads ржПрж░ ржХрж┐ржЫрзБ Characteristics

- ржкрзНрж░рждрж┐ржЯрж┐ Thread ржПрж░ ржирж┐ржЬрж╕рзНржм CPU state (ржпрзЗржоржи: Register, Program Counter) ржПржмржВ Stack ржерж╛ржХрзЗред
- рж╕ржм Thread ржПржХржЗ Process ржПрж░ code section, data section ржПржмржВ OS resources (e.g. open files and signals) share ржХрж░рзЗред
- ржкрзНрж░рждрж┐ржЯрж┐ Thread ржПрж░ ржирж┐ржЬрж╕рзНржм **TCB (Thread Control Block)** ржерж╛ржХрзЗред
- Thread ржЧрзБрж▓рзЛ **lightweight** рж╣ржУрзЯрж╛рзЯ **context switching** ржжрзНрж░рзБржд рж╣рзЯред
- ржПржХрзЗ ржЕржкрж░рзЗрж░ рж╕рж╛ржерзЗ рж╕рж╣ржЬрзЗ Data рж╢рзЗрзЯрж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░рзЗ тЖТ Fast Communication рж╕ржорзНржнржмред
- ржПржХ Thread ржП bug ржерж╛ржХрж▓рзЗ ржкрзБрж░рзЛ process crash ржХрж░рждрзЗ ржкрж╛рж░рзЗред
- Data sharing ржПрж░ ржЬржирзНржп synchronization ржжрж░ржХрж╛рж░ (mutex/semaphore)ред

---

## ЁЯз╡ Visualization: Multi-threading Inside a Process

```
                  +-----------------------------+
                  |         Process             |
                  |  (e.g., Media Player App)   |
                  |                             |
                  |  +-----------------------+  |
                  |  |       Thread 1        |  |  --> Play Audio
                  |  +-----------------------+  |
                  |                             |
                  |  +-----------------------+  |
                  |  |       Thread 2        |  |  --> Display Video
                  |  +-----------------------+  |
                  |                             |
                  |  +-----------------------+  |
                  |  |       Thread 3        |  |  --> Handle User Input
                  |  +-----------------------+  |
                  |                             |
                  +-----------------------------+
```

### ЁЯФН Explanation

Process рж╣ржЪрзНржЫрзЗ ржПржХржЯрж┐ ржЪрж▓ржорж╛ржи ржкрзНрж░рзЛржЧрзНрж░рж╛ржо (ржпрзЗржоржи: VLC Player)ред рж╕рзЗржЗ ржкрзНрж░рзЛржЧрзНрж░рж╛ржорзЗрж░ ржнрзЗрждрж░рзЗ ржПржХрж╛ржзрж┐ржХ Thread ржХрж╛ржЬ ржХрж░ржЫрзЗред ржпрзЗржоржи:

- ЁЯО╡ **Thread 1:** ржЕржбрж┐ржУ ржкрзНрж▓рзЗ ржХрж░ржЫрзЗ
- ЁЯУ║ **Thread 2:** ржнрж┐ржбрж┐ржУ ржжрзЗржЦрж╛ржЪрзНржЫрзЗ
- ЁЯОо **Thread 3:** ржЗржЙржЬрж╛рж░рзЗрж░ ржХрзАржмрзЛрж░рзНржб/ржорж╛ржЙрж╕ ржЗржиржкрзБржЯ ржирж┐ржЪрзНржЫрзЗ

рж╕ржм thread ржорж┐рж▓рзЗ ржПржХржЯрж┐ process ржПрж░ ржХрж╛ржЬржХрзЗ ржжрзНрж░рзБржд ржУ ржХрж╛рж░рзНржпржХрж░ ржХрж░рзЗред

## ЁЯФД Context Switching in Thread

- Thread тЮбя╕П ржПржХржЯрж┐ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржХрж╛ржЬ/functionality ржПрж░ ржЬржирзНржп ржжрж╛рзЯрзА
- Process ржжрзНрж░рзБржд execute ржХрж░рж╛рж░ рж▓ржХрзНрж╖рзНржпрзЗ тЮбя╕П OS, multiple thread create ржХрж░рзЗ
- Program Counter ржПржХржЯрж┐ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рж╕ржорзЯрзЗ рж╢рзБржзрзБ ржПржХржЯрж┐ thread ржПрж░ instruction address ржзрж░рзЗ рж░рж╛ржЦрждрзЗ ржкрж╛рж░рзЗ тЮбя╕П CPU ржПржХрж╕рж╛ржерзЗ рж╕ржм ржерзНрж░рзЗржб ржЪрж╛рж▓рж╛рждрзЗ ржкрж╛рж░рзЗ ржирж╛
- CPU ржХрж┐ржЫрзБ рж╕ржорзЯ ржПржХржЯрж┐ thread execute ржХрж░рзЗ тЮбя╕П ржПржХржЯрж┐ thread ржПрж░ рж╕ржорзЯ рж╢рзЗрж╖ ржмрж╛ thread blocked (ржпрзЗржоржи: I/O wait)
- OS рж╕рзЗржЗ thread ржПрж░ current state (registers, stack pointer, program counter) рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рзЗ тЮбя╕П **TCB (Thread Control Block)**
- ржПрж░ржкрж░ OS ржЕржирзНржп thread ржПрж░ state load ржХрж░рзЗ
- ржПржЗ ржкрзБрж░рзЛ ржкрзНрж░ржХрзНрж░рж┐рзЯрж╛ржЯрж┐ржХрзЗржЗ ржмрж▓рж╛ рж╣рзЯ тЮбя╕П **Thread Context Switching**

## Thread Pool ЁЯз╡ЁЯз╡

**Thread pool** рж╣рж▓рзЛ ржЖржЧрзЗржЗ рждрзИрж░рж┐ ржХрж░рж╛ ржХрж┐ржЫрзБ Thread, ржпрзЗржЧрзБрж▓рзЛ Process ржП ржмрж╕рзЗ ржерж╛ржХрзЗ ржЖрж░ ржХрж╛ржЬ ржПрж▓рзЗ рждрж╛ ржХрж░рзЗ ржлрзЗрж▓рзЗред
ржкрзНрж░рждрж┐ржмрж╛рж░ ржирждрзБржи Thread ржирж╛ ржмрж╛ржирж┐рзЯрзЗ ржЖржЧрзЗрж░ рждрзИрж░рж┐ Thread ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛рзЯ рж╕ржорзЯ ржУ рж░рж┐рж╕рзЛрж░рзНрж╕ ржмрж╛ржБржЪрзЗ; ржмрж┐рж╢рзЗрж╖ржнрж╛ржмрзЗ ржЫрзЛржЯ ржУ ржЕржирзЗржХ ржХрж╛ржЬ ржерж╛ржХрж▓рзЗ ржПржЯрж╛ ржЦрзБржмржЗ ржЙржкржХрж╛рж░рзАред

## тЪЩя╕П Process Vs Thread ЁЯз╡

| Feature                   | Process                                                         | Thread                                                                |
| ------------------------- | --------------------------------------------------------------- | --------------------------------------------------------------------- |
| ЁЯФТ **Resource Isolation** | ржкрзНрж░рждрж┐ржЯрж┐ Process ржПрж░ ржирж┐ржЬрж╕рзНржм memory ржУ resources ржерж╛ржХрзЗ               | ржПржХржЗ Process ржПрж░ ржоржзрзНржпрзЗ рж╕ржм Thread ржПржХржЗ memory ржУ resources рж╢рзЗржпрж╝рж╛рж░ ржХрж░рзЗ      |
| ЁЯФД **Communication**      | ржЬржЯрж┐рж▓; Inter-Process Communication (IPC) mechanisms ржкрзНрж░ржпрж╝рзЛржЬржи рж╣ржпрж╝ | рж╕рж╣ржЬ; shared memory ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ Thread ржЧрзБрж▓рзЛ ржПржХрзЗ ржЕржкрж░рзЗрж░ рж╕рж╛ржерзЗ ржпрзЛржЧрж╛ржпрзЛржЧ ржХрж░рзЗ |
| тЪб **Overhead**           | Process рждрзИрж░рж┐ ржУ ржкрж░рж┐ржЪрж╛рж▓ржирж╛рж░ ржЬржирзНржп ржмрзЗрж╢рж┐ overhead рж▓рж╛ржЧрзЗ                | Thread рждрзИрж░рж┐ ржУ ржкрж░рж┐ржЪрж╛рж▓ржирж╛ рждрзБрж▓ржирж╛ржорзВрж▓ржХржнрж╛ржмрзЗ ржХржо overhead                      |
| тП▒я╕П **Concurrency**        | Concurrency рж╕ржорзНржнржм, рждржмрзЗ cost ржмрзЗрж╢рж┐                                | ржПржХржЗ Process ржПрж░ ржоржзрзНржпрзЗ concurrency ржЕрж░рзНржЬржирзЗ ржмрзЗрж╢рж┐ ржХрж╛рж░рзНржпржХрж░                  |
| ЁЯЫбя╕П **Isolation**          | ржПржХ Process ржЕржирзНржп Process ржПрж░ memory рждрзЗ рж╕рж░рж╛рж╕рж░рж┐ ржкрзНрж░ржмрзЗрж╢ ржХрж░рждрзЗ ржкрж╛рж░рзЗ ржирж╛ | Threads ржПржХрзЗ ржЕржкрж░рзЗрж░ ржЙржкрж░ ржкрзНрж░ржнрж╛ржм ржлрзЗрж▓рждрзЗ ржкрж╛рж░рзЗ, ржХрж╛рж░ржг рждрж╛рж░рж╛ memory рж╢рзЗржпрж╝рж╛рж░ ржХрж░рзЗ  |
| ЁЯУМ **Example**            | ржкрзНрж░рждрж┐ржЯрж┐ browser tab ржЖрж▓рж╛ржжрж╛ Process рж╣рж┐рж╕рзЗржмрзЗ ржЪрж▓рзЗ                    | rendering, networking, JavaScript execution ржЗрждрзНржпрж╛ржжрж┐ ржЖрж▓рж╛ржжрж╛ Thread ржП рж╣рзЯ |

---

[**Author:** @nazma98
**Date:** 2025-06-02
**Category:** interview-qa/class-wise
]
